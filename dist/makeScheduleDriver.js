'use strict';var xs=require('xstream').default,schedule=require('node-schedule');function ScheduleWrapper(){var a={};this.scheduleJob=function(b,c){schedule.scheduleJob(b,c)},this.scheduleNamedJob=function(b,c,d){a[c]=schedule.scheduleJob(b,d)},this.cancel=function(b){a[b].cancel()}}function makeScheduleDriver(){var c=new ScheduleWrapper;return function(d){return d.addListener({next:function next(e){c.cancel(e)},error:function error(){},complete:function complete(){}}),{schedule:function(e,f){return xs.create({start:function start(g){void 0===f?c.scheduleJob(e,function(h){return g.next(h)}):c.scheduleNamedJob(e,f,function(h){return g.next(h)})},stop:function stop(){}})}}}}module.exports=makeScheduleDriver;